name: Build and Test Mundo-Morse Console App

on:
  pull_request:
    branches: [ "main" ]
  push:
    branches: [ "main" ]

jobs:
  build-and-run:
    runs-on: windows-latest

    steps:
    - name: Checkout repository
      uses: actions/checkout@v4

    - name: Setup .NET SDK
      uses: actions/setup-dotnet@v4
      with:
        dotnet-version: 9.0.x  # AsegÃºrate de que estÃ© en la misma versiÃ³n que tu proyecto

    # Antes de hacer merge (en PR)
    - name: Restore dependencies (Pre-merge)
      run: dotnet restore Mundo-Morse.csproj

    - name: Build project (Pre-merge)
      run: dotnet build Mundo-Morse.csproj --configuration Release

    # - name: Run tests (Pre-merge)
    #   run: dotnet test ./Test/TestTiposJuegos.csproj --configuration Release  --> Apuntar al proyecto de pruebas

    - name: ConfirmaciÃ³n Pre-merge
      run: |
        echo "âœ… ValidaciÃ³n exitosa para el Pull Request"
        echo "ğŸ”„ Dependencias restauradas, compilaciÃ³n completada, pruebas unitarias OK."
        echo "ğŸ“¦ Listo para merge en 'main'."

